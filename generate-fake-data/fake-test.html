<!doctype html>
<meta charset="utf-8"/>
<title>generate-fake-data demo</title>
<style>
  body { font-family: system-ui, sans-serif; max-width: 920px; margin: 24px auto; }
  .card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; }
  input, button { font-size:14px; padding:8px 10px; }
  pre { background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; padding:10px; overflow:auto; }
  .row { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
  @media (max-width: 820px){ .row { grid-template-columns:1fr; } }
</style>
<h1>generate-fake-data</h1>
<div class="card">
  <div>
    <label>Seed: <input id="seed" placeholder="optional (e.g. 1234)"></label>
    <label>Count: <input id="count" type="number" value="5" min="1" max="1000"></label>
    <button id="btn">Generate</button>
    <button id="dl">Download .json</button>
  </div>
  <div class="row" style="margin-top:12px;">
    <div><h3>Users</h3><pre id="out">[]</pre></div>
    <div><h3>Single</h3><pre id="one">â€¦</pre></div>
  </div>
</div>
<script type="module">
  import F, { rng, rows, user } from './fake.js';
  const $ = id => document.getElementById(id);

  function run() {
    const seed = $('seed').value || undefined;
    const n = Math.max(1, Math.min(1000, Number($('count').value||5)));
    const data = rows(n, seed);
    $('out').textContent = JSON.stringify(data, null, 2);
    $('one').textContent = JSON.stringify(user(rng(seed)), null, 2);
  }
  $('btn').addEventListener('click', run);
  $('dl').addEventListener('click', () => {
    const blob = new Blob([$('out').textContent], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = Object.assign(document.createElement('a'), { href: url, download: 'fake-users.json' });
    document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  });
  run();
</script>
