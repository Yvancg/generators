<!-- generate-phone-number/phone-test.html -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Phone Number Generator Test</title>
<style>
  body{font-family:ui-monospace,monospace;background:#fafafa;color:#222;max-width:720px;margin:40px auto;padding:20px}
  h1{font-size:1.4rem;margin-bottom:1rem}
  label{display:block;margin-top:10px}
  input,select{padding:6px}
  .row{display:flex;gap:10px;align-items:center;margin-top:16px}
  button{padding:8px 14px;cursor:pointer}
  pre{background:#eee;padding:12px;border-radius:6px;word-break:break-all;margin-top:16px;min-height:56px}
  .hint{color:#666;font-size:.9rem}
</style>
</head>
<body>

<h1>ðŸ“ž Phone Number Generator Test</h1>

<label>
  State (optional)
  <select id="state">
    <option value="">Any</option>
    <option value="CA">CA (California)</option>
    <option value="NY">NY (New York)</option>
    <option value="TX">TX (Texas)</option>
    <option value="FL">FL (Florida)</option>
  </select>
</label>

<label>
  City (optional)
  <select id="city">
    <option value="">Any</option>
    <option value="Los Angeles">Los Angeles</option>
    <option value="San Francisco">San Francisco</option>
    <option value="New York">New York</option>
    <option value="Houston">Houston</option>
    <option value="Miami">Miami</option>
  </select>
</label>

<label>
  Count
  <input id="count" type="number" min="1" value="1"/>
</label>

<label>
  Seed (optional)
  <input id="seed" placeholder="deterministic seed"/>
</label>

<div class="row">
  <button id="generate">Generate</button>
  <button id="copy" disabled>Copy</button>
</div>

<pre id="output">Click "Generate"</pre>

<script type="module">
  import { generatePhoneNumbers } from './phone.js';
  const $ = id => document.getElementById(id);

  const out = $('output');
  const copyBtn = $('copy');

  $('generate').onclick = () => {
    const state = $('state').value || null;
    const city  = $('city').value || null;
    const count = parseInt($('count').value, 10);
    const seed  = $('seed').value || null;

    try {
      const res = generatePhoneNumbers({ state, city, count, seed });
      const text = Array.isArray(res) ? res.join('\n') : res;
      out.textContent = text;
      copyBtn.disabled = false;
      copyBtn.dataset.payload = text;
    } catch(e) {
      out.textContent = 'Error: ' + (e.message || e);
      copyBtn.disabled = true;
    }
  };

  copyBtn.onclick = async () => {
    try {
      await navigator.clipboard.writeText(copyBtn.dataset.payload);
      copyBtn.textContent = 'Copied!';
      setTimeout(()=>copyBtn.textContent='Copy',1500);
    } catch(e) {
      copyBtn.textContent = 'Error';
    }
  };
</script>

</body>
</html>
